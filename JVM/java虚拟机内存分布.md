## Java虚拟机总结

#### 1.Java内存区域
<img src="https://i.imgur.com/Jyyzr2m.png" width="540px" />

#####1.1程序计数器
- 1.程序计数器是一块较小的内存，它可以看作是当前线程执行字节码的 **行号指示器**
- 2.程序计数器处于线程独占区域
- 3.如果线程执行的是Java方法，记录的是正在执行的虚拟机字节码指令的地址，如果是native方法，计数器的值为undefined
- 4.此区域是唯一一个在java虚拟机规范中没有规定任何OutofMemoryError

#####1.2Java虚拟机栈
- 1.虚拟机栈描述的是Java方法执行的动态内存模型
- 2.每个方法执行，都后创建一个栈帧，伴随着方法从创建到执行完毕。用于存储局部变量表，操作数栈，动态链接，方法出口等。
- 3局部变量表：存放编译器可知的各种基本数据类型，引用类型，局部变量表的内存空间在编译期完成分配，当进入一个方法时，分配的内存是固定的
- 4.虚拟机栈满了之后会出现StackOverFlowError，如果申请不到足够的内存就会抛出OutOfMemoryErrot
- 大对象或者逃逸对象无法栈上分配
#####1.3本地方法栈
- 虚拟机栈为虚拟机提供执行java方法
- 本地方法栈为虚拟机执行native方法
#####1.4方法区
- 存储虚拟机加载的类信息，常量，静态变量，即时编译器编译后的代码数据
- 方法区和永久代，在JDK1.8已经去除永久代，改为元数据
- 垃圾回收在方法区的行为

#####1.5Java堆
- 存放对象的实例
- 垃圾收集器管理的主要区域
- 新生代，Eden空间，老年代  

####2.Java对象的创建
- 给对象分配内存
  - 通过指针碰撞
  - 空闲列表

- 线程安全性问题

  - 使用同步(monitorextry和monitorexit指令)或加锁(LockSupport)，使用锁分段技术
- 初始化对象
- 执行 构造方法

对象创建的过程：

 (1) new 类名

 (2) 根据new的参数在常量池中定位一个类的引用符号

 (3) 如果没有找到这个符号引用，说明该类没有被加载，则进行类的加载解析和初始化

 (4)虚拟机为对象分配内存(位于堆中)


 (5)将分配的内存初始化为零，


 (6)调用对象的init方法执行

##### 2.1对象的结构
- 对象头
  - 自身运行时的数据，
    - hash值
    - 分代年龄
    - 锁状态
  - 类型指针
- 实例数据
- 信息填充

####2垃圾回收算法...[GitHub更新](https://github.com/guoxiaoxu/java-learning-guogai)，方便自己复习。点进去绝对不会让你失望的，

 ----------------------
 此教程仅限于学习使用，不得用于商业行为，版权归作者所有。感谢龙果学院




























视频链接：https://pan.baidu.com/s/1i49NkJ7 密码：fuwt <br>
播放器账号 51584 密码792893
